<!DOCTYPE html>
<html>
<head>
    <title>전기차 충전소 지도</title>
    <!-- 네이버 지도 API 스크립트 호출, 클라이언트 ID 적용 -->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=9u2pgs7nw2"></script>
</head>
<body>
    <div id="map" style="width:100%;height:400px;"></div>
    <script>
        var mapOptions = {
            center: new naver.maps.LatLng(37.3595704, 127.105399), // 지도 중심 좌표
            zoom: 10 // 지도 확대 레벨
        };

        var map = new naver.maps.Map('map', mapOptions);

        // JSON 파일에서 충전소 데이터를 가져오기
        fetch('chargers.json')
            .then(function(response) {
                return response.json(); // JSON 형태로 변환
            })
            .then(function(data) {
                data.forEach(function(charger) {
                    var marker = new naver.maps.Marker({
                        position: new naver.maps.LatLng(charger.lat, charger.lng), // 마커 위치 설정
                        map: map // 마커를 표시할 지도
                    });

                    var infoWindow = new naver.maps.InfoWindow({
                        content: '<div style="width:150px;text-align:center;padding:10px;">' +
                                 '<b>' + charger.name + '</b><br>' +
                                 '사업자: ' + charger.operator + '<br>' +
                                 '용량: ' + charger.capacity + '<br>' +
                                 '충전기 수: ' + charger.charger_count + '</div>' // 정보창 내용
                    });

                    // 마커 클릭 시 정보창 표시
                    naver.maps.Event.addListener(marker, 'click', function() {
                        infoWindow.open(map, marker);
                    });
                });
            });
    </script>
</body>
</html>
