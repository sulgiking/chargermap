<!DOCTYPE html>
<html>
<head>
    <title>전기차 충전소 지도</title>
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=9u2pgs7nw2"></script>
</head>
<body>
    <div id="map" style="width:100%;height:400px;"></div>
    <script>
        var mapOptions = {
            center: new naver.maps.LatLng(37.3595704, 127.105399),
            zoom: 10
        };

        var map = new naver.maps.Map('map', mapOptions);

        fetch('chargers.json')
            .then(function(response) {
                return response.json();
            })
            .then(function(data) {
                data.forEach(function(charger) {
                    var marker = new naver.maps.Marker({
                        position: new naver.maps.LatLng(charger.lat, charger.lng),
                        map: map
                    });

                    var infoWindow = new naver.maps.InfoWindow({
                        content: '<div style="width:150px;text-align:center;padding:10px;">' +
                                 '<b>' + charger.name + '</b><br>' +
                                 '사업자: ' + charger.operator + '<br>' +
                                 '용량: ' + charger.capacity + '<br>' +
                                 '충전기 수: ' + charger.charger_count + '</div>'
                    });

                    naver.maps.Event.addListener(marker, 'click', function() {
                        infoWindow.open(map, marker);
                    });
                });
            });
    </script>
</body>
</html>
